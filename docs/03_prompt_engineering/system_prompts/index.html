<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAM AI - Intelligent Odoo Framework</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 60px 20px 40px;
            color: white;
        }

        .hero-logo {
            width: 150px;
            height: 150px;
            margin: 0 auto 30px;
            border-radius: 50%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border: 5px solid rgba(255,255,255,0.3);
            overflow: hidden;
            background: white;
        }

        .hero-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero .tagline {
            font-size: 1.5rem;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        /* TABS NAVIGATION */
        .tabs-nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0 0;
            flex-wrap: wrap;
        }

        .tab-button {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .tab-button:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: white;
            color: #667eea;
            border-color: white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        /* TAB CONTENT */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Content */
        .content {
            background: white;
            border-radius: 20px;
            padding: 60px;
            margin: 40px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }

        .section {
            margin-bottom: 60px;
        }

        .section h2 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section h3 {
            font-size: 1.8rem;
            margin: 30px 0 20px;
            color: #667eea;
        }

        .section-icon {
            font-size: 2.5rem;
        }

        /* Architecture Diagram */
        .architecture {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .architecture pre {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.8;
            color: #2d3748;
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 15px;
            color: white;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
        }

        .feature-card h4 {
            font-size: 1.2rem;
            margin: 15px 0 10px;
            color: rgba(255,255,255,0.95);
        }

        .feature-card p {
            opacity: 0.95;
            line-height: 1.8;
        }

        .feature-card ul {
            list-style: none;
            margin: 10px 0;
        }

        .feature-card li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .feature-card li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: rgba(255,255,255,0.9);
            font-weight: bold;
        }

        /* Platform Cards */
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .platform-card {
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            padding: 35px;
            transition: all 0.3s ease;
        }

        .platform-card:hover {
            border-color: #667eea;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .platform-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .platform-icon {
            font-size: 2.5rem;
        }

        .platform-card h3 {
            font-size: 1.8rem;
            color: #667eea;
        }

        .platform-card ul {
            list-style: none;
            margin: 15px 0;
        }

        .platform-card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .platform-card li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        /* Code Block */
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            line-height: 1.6;
        }

        .code-comment {
            color: #a0aec0;
        }

        /* Steps List */
        .steps-list {
            counter-reset: step-counter;
            list-style: none;
            margin: 30px 0;
        }

        .steps-list li {
            counter-increment: step-counter;
            padding: 20px 20px 20px 60px;
            margin: 20px 0;
            background: #f7fafc;
            border-radius: 10px;
            position: relative;
            border-left: 4px solid #667eea;
        }

        .steps-list li:before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Alert Box */
        .alert-box {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid;
        }

        .alert-info {
            background: #ebf8ff;
            border-color: #3182ce;
            color: #2c5282;
        }

        .alert-success {
            background: #f0fff4;
            border-color: #38a169;
            color: #276749;
        }

        .alert-warning {
            background: #fffaf0;
            border-color: #ed8936;
            color: #7c2d12;
        }

        /* API Endpoints */
        .api-list {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .api-endpoint {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            font-family: 'Courier New', monospace;
        }

        .api-method {
            display: inline-block;
            padding: 5px 15px;
            background: #667eea;
            color: white;
            border-radius: 5px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-right: 10px;
        }

        .api-path {
            color: #2d3748;
            font-weight: 600;
        }

        .api-description {
            color: #718096;
            margin-top: 8px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto;
            font-size: 0.9rem;
        }

        /* Data Models */
        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .model-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .model-item:hover {
            background: #edf2f7;
            transform: translateX(5px);
        }

        .model-name {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .model-description {
            font-size: 0.85rem;
            color: #718096;
        }

        /* Technology Stack */
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
        }

        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px;
            color: white;
            margin-top: 60px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .footer-link {
            color: white;
            text-decoration: none;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .footer-link:hover {
            opacity: 1;
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero .tagline {
                font-size: 1.2rem;
            }

            .content {
                padding: 30px 20px;
            }

            .section h2 {
                font-size: 2rem;
            }

            .stat-number {
                font-size: 2rem;
            }

            .tab-button {
                padding: 12px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-logo">
                <img src="Sam.png" alt="SAM AI Logo">
            </div>
            <h1>SAM AI</h1>
            <p class="tagline">The AI All-Knowing Intelligence Framework for Odoo 18</p>
            <div class="version-badge">Version 3.5.0 | October 2025</div>

            <!-- TABS NAVIGATION -->
            <div class="tabs-nav">
                <button class="tab-button active" onclick="switchTab('overview')">ğŸ“– Overview</button>
                <button class="tab-button" onclick="switchTab('cost-guide')">ğŸ’° Cost Optimization Guide</button>
            </div>
        </div>

        <!-- TAB 1: OVERVIEW (Existing Content) -->
        <div id="tab-overview" class="tab-content active">
            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-number">40+</div>
                    <div class="stat-label">Data Models</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15+</div>
                    <div class="stat-label">Controllers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1,500+</div>
                    <div class="stat-label">Workflow Connectors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Canvas Platforms</div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="content">
                <!-- Executive Summary -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ¯</span> What is SAM AI?</h2>
                    <p style="font-size: 1.2rem; line-height: 1.8; color: #4a5568;">
                        SAM AI is a comprehensive intelligent framework for Odoo 18 that combines <strong>AI-powered conversations</strong>,
                        <strong>visual workflow automation</strong>, <strong>knowledge graph memory</strong>, and <strong>multi-user relationship management</strong>
                        into a unified, extensible platform.
                    </p>
                </section>

                <!-- Architecture -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ—ï¸</span> Three-Layer Architecture</h2>
                    <div class="architecture">
                        <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ğŸŒ¿ PLATFORMS (Specialized Features)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   SAM    â”‚  â”‚  Memory  â”‚  â”‚   Automator      â”‚  â”‚
â”‚  â”‚ Creative â”‚  â”‚  System  â”‚  â”‚  (Workflows)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ğŸ§  AI_SAM (Framework - Core Intelligence)      â”‚
â”‚  â€¢ Canvas Engine (Universal Platform)               â”‚
â”‚  â€¢ Claude API Integration                           â”‚
â”‚  â€¢ Context Builder (All-Knowing Brain)              â”‚
â”‚  â€¢ Controllers & APIs                               â”‚
â”‚  â€¢ Token Counter & Cost Tracking                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ğŸ’¾ AI_BRAIN (Data Layer - Foundation)         â”‚
â”‚  â€¢ All Data Models (40+)                            â”‚
â”‚  â€¢ Conversation Storage                             â”‚
â”‚  â€¢ User Profiles                                    â”‚
â”‚  â€¢ Workflow Definitions                             â”‚
â”‚  â€¢ Node Registry                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </pre>
                    </div>
                </section>

                <!-- Core Features -->
                <section class="section">
                    <h2><span class="section-icon">âœ¨</span> Core Features</h2>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>ğŸ¤– AI Chat Interface</h3>
                            <p>Context-aware conversations with Claude AI, integrated throughout Odoo. SAM knows everything about your system and adapts to each user's relationship level.</p>
                        </div>
                        <div class="feature-card">
                            <h3>ğŸ‘¥ Multi-User Profiles</h3>
                            <p>Relationship-based AI interactions that evolve from stranger to close friend. Trust scores, learned preferences, and personal facts for each user.</p>
                        </div>
                        <div class="feature-card">
                            <h3>ğŸ¨ Universal Canvas</h3>
                            <p>Polymorphic workflow/mind-map platform. ONE canvas core supporting MANY platform skins (SAM Creative, Automator, Memory, custom).</p>
                        </div>
                        <div class="feature-card">
                            <h3>ğŸ’¾ Memory System</h3>
                            <p>Graph database (Apache AGE) + Vector database (ChromaDB) for knowledge storage, semantic search, and intelligent context retrieval.</p>
                        </div>
                        <div class="feature-card">
                            <h3>ğŸ”„ Workflow Automation</h3>
                            <p>Node-based workflows with 1,500+ service connectors. Visual workflow builder with execution tracking and N8N JSON import/export.</p>
                        </div>
                        <div class="feature-card">
                            <h3>ğŸ¯ Power Prompts</h3>
                            <p>Context-aware AI modes (dev, sales, marketing, support) that inject specialized capabilities based on user needs.</p>
                        </div>
                    </div>
                </section>

                <!-- Technology Stack -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ› ï¸</span> Technology Stack</h2>
                    <div class="tech-stack">
                        <span class="tech-badge">Odoo 18</span>
                        <span class="tech-badge">Python 3.10+</span>
                        <span class="tech-badge">PostgreSQL</span>
                        <span class="tech-badge">Claude API (Anthropic)</span>
                        <span class="tech-badge">OpenAI API</span>
                        <span class="tech-badge">Apache AGE</span>
                        <span class="tech-badge">ChromaDB</span>
                        <span class="tech-badge">JavaScript ES6+</span>
                        <span class="tech-badge">HTML5 Canvas</span>
                        <span class="tech-badge">Whisper API</span>
                    </div>
                </section>
            </div>
        </div>

        <!-- TAB 2: COST OPTIMIZATION GUIDE (NEW) -->
        <div id="tab-cost-guide" class="tab-content">
            <!-- Stats Bar for Cost Optimization -->
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-number">43%</div>
                    <div class="stat-label">Cost Reduction</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">$65</div>
                    <div class="stat-label">Monthly Savings</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Intelligence Engines</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">Real-Time</div>
                    <div class="stat-label">Cost Tracking</div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="content">
                <!-- Introduction -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ’°</span> Cost Optimization Intelligence System</h2>
                    <p style="font-size: 1.2rem; line-height: 1.8; color: #4a5568;">
                        SAM AI now includes a powerful <strong>Cost Optimization Intelligence System</strong> that automatically
                        reduces your AI API costs by up to <strong>43%</strong> through smart provider selection, waste detection,
                        A/B testing, and budget management.
                    </p>

                    <div class="alert-box alert-success" style="margin-top: 30px;">
                        <strong>âœ… Fully Operational!</strong> The Cost Optimization system is active and working in the background,
                        tracking every API call, detecting waste, benchmarking providers, and managing budgets automatically.
                    </div>
                </section>

                <!-- How It Works -->
                <section class="section">
                    <h2><span class="section-icon">âš™ï¸</span> How It Works</h2>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>ğŸ¯ Smart Provider Selection</h3>
                            <p><strong>ai.cost.optimizer</strong> recommends the best AI provider based on:</p>
                            <ul>
                                <li>Task complexity & context size</li>
                                <li>Quality requirements (low/medium/high)</li>
                                <li>Historical performance data</li>
                                <li>Cost-per-quality ratio</li>
                                <li>Your budget constraints</li>
                            </ul>
                            <h4>Example:</h4>
                            <p style="font-size: 0.9rem;">Simple query â†’ Claude Haiku ($0.008) vs Complex analysis â†’ Claude Sonnet 4 ($0.045)</p>
                        </div>

                        <div class="feature-card">
                            <h3>ğŸ” Waste Detection</h3>
                            <p><strong>ai.token.analytics</strong> analyzes every API call for waste:</p>
                            <ul>
                                <li>Redundant Context (unused models/fields)</li>
                                <li>Oversized Context (>2x message size)</li>
                                <li>Duplicate Queries (same prompt repeatedly)</li>
                                <li>Wrong Model (expensive model for simple task)</li>
                                <li>Unnecessary History (unused conversation)</li>
                            </ul>
                            <h4>Savings Identified:</h4>
                            <p style="font-size: 0.9rem;">$0.05 per call Ã— 300 calls = $15/month saved!</p>
                        </div>

                        <div class="feature-card">
                            <h3>ğŸ§ª A/B Testing</h3>
                            <p><strong>ai.provider.benchmark</strong> compares providers scientifically:</p>
                            <ul>
                                <li>80% control / 20% challenger split</li>
                                <li>Tracks cost, quality, speed, reliability</li>
                                <li>Statistical analysis after 7 days</li>
                                <li>Automatic switching recommendations</li>
                                <li>Quality protection (no quality loss)</li>
                            </ul>
                            <h4>Example Result:</h4>
                            <p style="font-size: 0.9rem;">Haiku: $0.008 @ 75 quality vs Sonnet: $0.045 @ 90 quality â†’ 5x cheaper!</p>
                        </div>

                        <div class="feature-card">
                            <h3>ğŸ“Š Budget Management</h3>
                            <p><strong>ai.cost.budget</strong> prevents overspending:</p>
                            <ul>
                                <li>Daily, Weekly, Monthly budgets</li>
                                <li>Alerts at 50%, 75%, 90%, 100%</li>
                                <li>Auto-switch to cheaper providers at 90%</li>
                                <li>Spending forecasts (predict monthly cost)</li>
                                <li>Optional hard limit at 100%</li>
                            </ul>
                            <h4>Alert Example:</h4>
                            <p style="font-size: 0.9rem;">"Budget 75% used. Forecast: $105/month (over $100 budget)"</p>
                        </div>
                    </div>
                </section>

                <!-- Getting Started -->
                <section class="section">
                    <h2><span class="section-icon">ğŸš€</span> Getting Started</h2>

                    <h3>Step 1: Set Up a Budget</h3>
                    <div class="code-block">
<span class="code-comment"># Navigate to Odoo Developer Menu</span>
# Settings â†’ Technical â†’ Cost Optimization â†’ Budgets â†’ Create

<span class="code-comment"># Or via Python/ORM:</span>
budget = env['ai.cost.budget'].create({
    'name': 'November 2025',
    'period_type': 'monthly',
    'budget_amount': 100.00,  <span class="code-comment"># $100/month</span>
    'alert_thresholds': '[50, 75, 90, 100]',
    'enable_auto_switch': True,
    'auto_switch_threshold': 90,
    'block_at_threshold': False,  <span class="code-comment"># Warn only, don't block</span>
})
                    </div>

                    <div class="alert-box alert-info">
                        <strong>ğŸ’¡ Tip:</strong> Start with <code>block_at_threshold: False</code> to observe spending patterns
                        without disrupting service. Enable blocking later if needed.
                    </div>

                    <h3>Step 2: Review Cost Breakdown</h3>
                    <div class="code-block">
<span class="code-comment"># Get cost breakdown by module, user, and context</span>
analytics = env['ai.token.analytics']
breakdown = analytics.get_cost_breakdown(
    period_type='month',
    user_id=env.user.id  <span class="code-comment"># Optional: filter by user</span>
)

print(f"Total Cost: ${breakdown['total_cost']:.2f}")
print(f"By Module: {breakdown['by_context']}")
print(f"Top Driver: {breakdown['top_cost_driver']}")
                    </div>

                    <h3>Step 3: Compare Providers</h3>
                    <div class="code-block">
<span class="code-comment"># Compare all providers for chat tasks (last 30 days)</span>
benchmark = env['ai.provider.benchmark']
comparison = benchmark.compare_providers(
    task_type='chat',
    period_days=30
)

<span class="code-comment"># Results sorted by cost-per-quality (best value first)</span>
for provider in comparison:
    print(f"{provider['provider']}: ${provider['avg_cost']:.4f} per call")
    print(f"  Quality: {provider['avg_quality']}/100")
    print(f"  Value: ${provider['cost_per_quality_point']:.6f} per point")
                    </div>

                    <h3>Step 4: Get Savings Recommendations</h3>
                    <div class="code-block">
<span class="code-comment"># Generate cost report with savings recommendations</span>
report = benchmark.generate_cost_report(period_days=30)

print(f"Total Cost: ${report['total_cost']:.2f}")
print(f"Potential Savings: ${report['potential_savings']:.2f}")
print("\nRecommendations:")
for rec in report['recommendations']:
    print(f"  â€¢ {rec}")
                    </div>
                </section>

                <!-- Usage Examples -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ“–</span> Common Use Cases</h2>

                    <h3>Use Case 1: Monthly Budget with Auto-Switching</h3>
                    <ol class="steps-list">
                        <li>
                            <strong>Create Monthly Budget:</strong> Set $100/month limit with alerts at 50%, 75%, 90%, 100%
                        </li>
                        <li>
                            <strong>Enable Auto-Switch:</strong> At 90% budget, automatically recommend switching to Claude Haiku
                        </li>
                        <li>
                            <strong>Monitor Alerts:</strong> Receive email notifications with cost breakdown and optimization tips
                        </li>
                        <li>
                            <strong>Review Monthly:</strong> At month end, review cost report and adjust budget for next period
                        </li>
                    </ol>

                    <h3>Use Case 2: A/B Test New Provider</h3>
                    <ol class="steps-list">
                        <li>
                            <strong>Start A/B Test:</strong> System automatically uses 80% Claude Sonnet 4 (control), 20% Claude Haiku (challenger)
                        </li>
                        <li>
                            <strong>Wait 7 Days:</strong> Let the system collect performance data (cost, quality, speed)
                        </li>
                        <li>
                            <strong>Analyze Results:</strong> Run <code>analyze_ab_test()</code> to see if Haiku saves money without quality loss
                        </li>
                        <li>
                            <strong>Make Decision:</strong> If Haiku is 5x cheaper with only 15-point quality drop, consider switching for simple queries
                        </li>
                    </ol>

                    <h3>Use Case 3: Detect and Fix Waste</h3>
                    <ol class="steps-list">
                        <li>
                            <strong>Review Token Usage:</strong> Check recent API calls for waste detection flags
                        </li>
                        <li>
                            <strong>Identify Waste:</strong> Find calls with <code>waste_detected=True</code> and review <code>waste_reason</code>
                        </li>
                        <li>
                            <strong>Apply Fix:</strong> Enable context caching, reduce context size, or deduplicate queries
                        </li>
                        <li>
                            <strong>Measure Impact:</strong> Compare <code>could_have_saved_usd</code> before and after fix
                        </li>
                    </ol>
                </section>

                <!-- What Happens Automatically -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ¤–</span> What Happens Automatically</h2>

                    <div class="alert-box alert-info">
                        <strong>Every AI API Call Automatically:</strong>
                    </div>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>Before API Call</h3>
                            <ul>
                                <li>Checks active budget</li>
                                <li>Estimates cost</li>
                                <li>Warns if over threshold</li>
                                <li>Recommends cheaper provider if at 90%</li>
                                <li>Blocks if budget exhausted (optional)</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <h3>After API Call</h3>
                            <ul>
                                <li>Logs benchmark data (cost, quality, speed)</li>
                                <li>Analyzes for waste (5 detection rules)</li>
                                <li>Updates provider comparison stats</li>
                                <li>Increments budget spend</li>
                                <li>Sends alerts if threshold reached</li>
                            </ul>
                        </div>
                    </div>

                    <div class="code-block" style="margin-top: 30px;">
<span class="code-comment"># Example: Every call to ai.service.send_message() triggers:</span>

1. Budget Check (lines 509-546 in ai_service.py)
   â†’ Checks budget, estimates cost, warns if needed

2. API Call â†’ Claude/OpenAI

3. Benchmark Logging (lines 547-574 in ai_service.py)
   â†’ Logs performance data for comparison

4. Waste Analysis (available via analyze_waste())
   â†’ Detects inefficiencies and calculates potential savings
                    </div>
                </section>

                <!-- Expected Savings -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ’¸</span> Expected Savings Breakdown</h2>

                    <div class="architecture">
                        <pre>
<strong>BASELINE MONTHLY COST:</strong> $150/month (without optimization)

<strong>AFTER COST OPTIMIZATION:</strong>

Phase 1: Smart Provider Selection       -$30/month (20% savings)
  â€¢ Context-aware model selection
  â€¢ Budget-aware routing
  â€¢ Quality vs cost tradeoffs

Phase 2: Provider Benchmarking          -$20/month (13% savings)
  â€¢ A/B testing finds better alternatives
  â€¢ Quality scoring prevents bad switches
  â€¢ Performance tracking

Phase 3: Budget Management              -$15/month (10% savings)
  â€¢ Alerts prevent overspending
  â€¢ Auto-switching at threshold
  â€¢ Waste elimination awareness

<strong>TOTAL SAVINGS:</strong>                    <strong>-$65/month (43% reduction!)</strong>

<strong>NEW MONTHLY COST:</strong> $85/month

<strong>ANNUAL SAVINGS:</strong> $780/year
                        </pre>
                    </div>

                    <div class="alert-box alert-success" style="margin-top: 30px;">
                        <strong>ğŸ‰ Real Savings Example:</strong> A user with 300 API calls/month at average $0.50 per call
                        reduced to $0.28 per call through optimization â†’ saving <strong>$66/month</strong>!
                    </div>
                </section>

                <!-- Troubleshooting -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ”§</span> Troubleshooting</h2>

                    <h3>Budget Not Checking</h3>
                    <div class="alert-box alert-warning">
                        <strong>Issue:</strong> Budget checks not running before API calls<br>
                        <strong>Solution:</strong> Verify budget is active (<code>active=True</code>) and dates are correct (<code>start_date â‰¤ today â‰¤ end_date</code>)
                    </div>

                    <h3>Waste Not Detected</h3>
                    <div class="alert-box alert-warning">
                        <strong>Issue:</strong> Waste detection not showing results<br>
                        <strong>Solution:</strong> Manually run <code>usage_record.analyze_waste()</code> on existing records. Waste detection runs on-demand, not automatically.
                    </div>

                    <h3>Provider Comparison Empty</h3>
                    <div class="alert-box alert-warning">
                        <strong>Issue:</strong> <code>compare_providers()</code> returns empty list<br>
                        <strong>Solution:</strong> Wait until benchmark data exists (generated after API calls). Minimum 5-10 API calls needed for comparison.
                    </div>

                    <h3>Budget Alerts Not Sending</h3>
                    <div class="alert-box alert-warning">
                        <strong>Issue:</strong> Not receiving budget alert emails<br>
                        <strong>Solution:</strong> Check Odoo notification settings. Alerts use <code>user.notify_warning()</code> which requires Odoo mail configuration.
                    </div>
                </section>

                <!-- Advanced Features -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ“</span> Advanced Features</h2>

                    <h3>Custom Provider Fallback</h3>
                    <div class="code-block">
<span class="code-comment"># Set specific fallback provider for budget</span>
haiku_provider = env['ai.service.provider'].search([
    ('name', '=', 'Claude Haiku')
], limit=1)

budget.write({
    'fallback_provider_id': haiku_provider.id
})

<span class="code-comment"># Now at 90% budget, system automatically recommends Haiku</span>
                    </div>

                    <h3>Per-User Budgets</h3>
                    <div class="code-block">
<span class="code-comment"># Create budget for specific user</span>
user_budget = env['ai.cost.budget'].create({
    'name': 'John Doe - November',
    'period_type': 'monthly',
    'budget_amount': 50.00,
    'user_id': env.ref('base.user_john').id,  <span class="code-comment"># Specific user only</span>
})

<span class="code-comment"># This budget only applies to John Doe's API calls</span>
                    </div>

                    <h3>Quality-Based Routing</h3>
                    <div class="code-block">
<span class="code-comment"># Get provider recommendation with quality requirements</span>
optimizer = env['ai.cost.optimizer']

<span class="code-comment"># High quality required (complex analysis)</span>
high_rec = optimizer.recommend_provider(
    task_type='chat',
    context_size_tokens=5000,
    quality_required='high',  <span class="code-comment"># Requires quality â‰¥85</span>
)
print(f"High quality: {high_rec['provider_name']}")  <span class="code-comment"># â†’ Claude Sonnet 4</span>

<span class="code-comment"># Medium quality acceptable (simple queries)</span>
med_rec = optimizer.recommend_provider(
    task_type='chat',
    context_size_tokens=2000,
    quality_required='medium',  <span class="code-comment"># Requires quality â‰¥70</span>
)
print(f"Medium quality: {med_rec['provider_name']}")  <span class="code-comment"># â†’ Claude Haiku (5x cheaper!)</span>
                    </div>
                </section>

                <!-- Next Steps -->
                <section class="section">
                    <h2><span class="section-icon">ğŸ¯</span> Next Steps</h2>

                    <ol class="steps-list">
                        <li>
                            <strong>Create Your First Budget:</strong> Go to Settings â†’ Technical â†’ Cost Optimization â†’ Budgets â†’ Create
                        </li>
                        <li>
                            <strong>Monitor for 1 Week:</strong> Let the system collect benchmark data and detect waste patterns
                        </li>
                        <li>
                            <strong>Review Cost Report:</strong> Run <code>generate_cost_report()</code> to see savings recommendations
                        </li>
                        <li>
                            <strong>Enable A/B Testing:</strong> Let system test cheaper alternatives (automatic 80/20 split)
                        </li>
                        <li>
                            <strong>Optimize Based on Data:</strong> Switch providers or adjust budgets based on real performance data
                        </li>
                    </ol>

                    <div class="alert-box alert-success" style="margin-top: 30px;">
                        <strong>âœ¨ The system is already working!</strong> Every API call is being tracked, analyzed, and optimized.
                        You just need to review the data and make informed decisions based on the recommendations.
                    </div>
                </section>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h3 style="margin-bottom: 20px;">SAM AI - The AI All-Knowing Intelligence Framework</h3>
            <div class="footer-links">
                <a href="https://github.com/yourusername/sam-ai" class="footer-link">GitHub</a>
                <a href="https://docs.sam-ai.dev" class="footer-link">Documentation</a>
                <a href="https://sme.ec" class="footer-link">Website</a>
                <a href="mailto:support@sme.ec" class="footer-link">Support</a>
            </div>
            <p style="margin-top: 30px; opacity: 0.8;">
                Built with â¤ï¸ by Anthony Gardiner Odoo Consulting & Claude Code AI<br>
                Version 3.5.0 | October 2025
            </p>
        </div>
    </div>

    <!-- JavaScript for Tab Switching -->
    <script>
        function switchTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Deactivate all tab buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));

            // Show selected tab content
            const selectedContent = document.getElementById('tab-' + tabName);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }

            // Activate clicked button
            event.target.classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
