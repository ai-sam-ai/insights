<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAM AI Platform Skin Architecture Model</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }

        h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 4px solid #3498db;
            padding-bottom: 15px;
        }

        h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }

        h3 {
            color: #34495e;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .metadata {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
            font-size: 0.95em;
        }

        .metadata p {
            margin: 5px 0;
        }

        hr {
            border: none;
            border-top: 2px solid #ecf0f1;
            margin: 40px 0;
        }

        .executive-summary {
            background: #e8f4f8;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .key-principle {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            font-weight: 600;
            font-size: 1.1em;
            border-radius: 5px;
        }

        .architecture-diagram {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 30px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.8;
            overflow-x: auto;
            margin: 25px 0;
            white-space: pre;
        }

        .layer-box {
            background: #34495e;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border: 2px solid #3498db;
        }

        ul {
            margin-left: 30px;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        li {
            margin: 8px 0;
        }

        .check-yes {
            color: #27ae60;
            font-weight: bold;
        }

        .check-no {
            color: #e74c3c;
            font-weight: bold;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .code-block pre {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .file-tree {
            background: #f8f9fa;
            border-left: 3px solid #6c757d;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .benefit-card {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
        }

        .benefit-card h3 {
            color: #2e7d32;
            margin-top: 0;
        }

        .workflow-box {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .golden-rules {
            background: #fce4ec;
            border: 3px solid #e91e63;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .golden-rules h3 {
            color: #c2185b;
            margin-top: 20px;
        }

        .golden-rules ol {
            margin-left: 20px;
        }

        .test-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            font-style: italic;
        }

        .dependency-diagram {
            background: #f5f5f5;
            border: 2px solid #9e9e9e;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            border-radius: 8px;
        }

        .status-badge {
            display: inline-block;
            background: #4caf50;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 10px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #3498db;
            color: white;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .emoji {
            font-size: 1.2em;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .container {
                box-shadow: none;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>SAM AI Platform Skin Architecture Model</h1>

        <div class="metadata">
            <p><strong>Date:</strong> 2025-10-11</p>
            <p><strong>Version:</strong> 1.0</p>
            <p><strong>Status:</strong> <span class="status-badge">Canonical Architecture Document</span></p>
        </div>

        <hr>

        <h2><span class="emoji">ğŸ¯</span> Executive Summary</h2>

        <div class="executive-summary">
            <p>SAM AI uses a <strong>three-layer architecture</strong> where data, framework, and UI are completely separated:</p>

            <ol>
                <li><strong>ai_brain</strong> = Pure data layer (ALL models, no views)</li>
                <li><strong>ai_sam</strong> = Framework + Canvas core + Controllers (business logic, no data models)</li>
                <li><strong>Platform Skins</strong> = UI renderers only (views, JS/CSS, specific to each platform)</li>
            </ol>
        </div>

        <div class="key-principle">
            <strong>Key Principle:</strong><br>
            ONE data layer (ai_brain) + ONE framework (ai_sam) + MANY skins (platforms) = Infinite extensibility with data safety
        </div>

        <hr>

        <h2><span class="emoji">ğŸ“š</span> Terminology</h2>

        <h3><strong>Platform Skin:</strong></h3>

        <p>A <strong>Platform Skin</strong> is a UI-only module that provides:</p>

        <ul>
            <li><span class="check-yes">âœ…</span> Views (XML)</li>
            <li><span class="check-yes">âœ…</span> Frontend code (JavaScript/CSS)</li>
            <li><span class="check-yes">âœ…</span> Platform-specific renderers</li>
            <li><span class="check-yes">âœ…</span> Optional: Platform-specific controllers (if needed for UI logic)</li>
            <li><span class="check-no">âŒ</span> <strong>NO DATA MODELS</strong> (all data lives in ai_brain)</li>
        </ul>

        <p><strong>Examples:</strong></p>
        <ul>
            <li><code>ai_sam_workflows</code> = Workflow automation skin (N8N-style UI)</li>
            <li><code>ai_sam_memory</code> = Knowledge graph visualization skin</li>
            <li><code>ai_sam_creatives</code> = Multimedia canvas skin</li>
        </ul>

        <div class="key-principle">
            <strong>Debug Isolation:</strong><br>
            "Debug UI issues 1 platform at a time" - Each skin is independent, uninstalling won't affect data
        </div>

        <hr>

        <h2><span class="emoji">ğŸ—ï¸</span> Three-Layer Architecture</h2>

        <div class="architecture-diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: PLATFORM SKINS (UI Layer)                             â”‚
â”‚  Purpose: Provide specialized UI/UX for different use cases     â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ai_sam_workflows â”‚  â”‚  ai_sam_memory   â”‚  â”‚ai_sam_creativesâ”‚ â”‚
â”‚  â”‚ (N8N Workflows)  â”‚  â”‚ (Knowledge Graph)â”‚  â”‚  (Multimedia) â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âœ… Views (XML)   â”‚  â”‚ âœ… Views (XML)   â”‚  â”‚ âœ… Views (XML)â”‚ â”‚
â”‚  â”‚ âœ… JS Renderer   â”‚  â”‚ âœ… JS Renderer   â”‚  â”‚ âœ… JS Rendererâ”‚ â”‚
â”‚  â”‚ âœ… CSS Styles    â”‚  â”‚ âœ… CSS Styles    â”‚  â”‚ âœ… CSS Styles â”‚ â”‚
â”‚  â”‚ âœ… Controllers*  â”‚  â”‚ âœ… Controllers*  â”‚  â”‚ âœ… Controllers*â”‚ â”‚
â”‚  â”‚ âŒ NO MODELS     â”‚  â”‚ âŒ NO MODELS     â”‚  â”‚ âŒ NO MODELS  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  *Controllers only if platform-specific UI logic required       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ depends on
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: AI_SAM (Framework Layer)                              â”‚
â”‚  Purpose: Provide canvas core, services, and universal logic    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Canvas Skeleton Core:                                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ canvas_sizer.js (universal sizing)                   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ canvas_engine.js (pan/zoom/grid)                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ node_manager.js (CRUD operations)                    â”‚ â”‚
â”‚  â”‚  â””â”€â”€ platform_loader.js (dynamic skin injection)          â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Services:                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai_service.py (Claude API integration)               â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai_context_builder.py (all-knowing context)          â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai_voice_service.py (Whisper integration)            â”‚ â”‚
â”‚  â”‚  â””â”€â”€ ai_registry_watcher.py (module monitor)              â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Universal Controllers (query engines):                   â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ canvas_controller.py (canvas API)                    â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam_ai_chat_controller.py (chat endpoints)           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam_session_controller.py (session management)       â”‚ â”‚
â”‚  â”‚  â””â”€â”€ [Future: query engine controllers]                   â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Site-Wide UI:                                            â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam_ai_chat_widget.js (global chat)                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€ sam_ai_token_counter.js (cost tracking)             â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  âŒ NO DATA MODELS (framework code only)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ depends on
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: AI_BRAIN (Data Layer)                                 â”‚
â”‚  Purpose: Persistent data storage - ALL models live here        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“Š ALL DATA MODELS - PROTECTED AND PERSISTENT             â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Core SAM AI Data:                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.service.config (API configuration)                â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.conversation (chat threads)                       â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.message (messages)                                â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.token.usage (usage tracking)                      â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam.user.profile (user profiles)                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam.user.settings (user settings)                    â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam.mode.context (power prompts)                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ sam.chat.session (chat sessions)                     â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ canvas.platform (platform registry)                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€ ai.branch (branch meta-architecture)                 â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Workflow Data (for ai_sam_workflows skin):               â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ canvas (workflow definitions)                        â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ executions (execution history - audit trail)         â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ nodes (node instances)                               â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ connections (node connections)                       â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ business.unit (business units)                       â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ api.credentials (API keys - sensitive)               â”‚ â”‚
â”‚  â”‚  â””â”€â”€ workflow.template (workflow templates)               â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Memory Data (for ai_sam_memory skin):                    â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.memory.config (memory system config)              â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.conversation.import (imported conversations)      â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.document.extractor (document extraction)          â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ ai.extractor.plugin (learned extraction patterns)    â”‚ â”‚
â”‚  â”‚  â””â”€â”€ ai.graph.service (graph DB interface)                â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Creatives Data (for ai_sam_creatives skin):              â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ creatives.project (creative projects)                â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ creatives.asset (multimedia assets)                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€ creatives.landing.card (landing cards)               â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  âŒ NO VIEWS, NO CONTROLLERS (pure data)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

        <hr>

        <h2><span class="emoji">ğŸ“‹</span> What Goes Where</h2>

        <h3><strong>ai_brain (Data Layer)</strong></h3>

        <div class="key-principle">
            <strong>Principle:</strong> If losing it would make a customer angry, it belongs here.
        </div>

        <p><strong>Contains:</strong></p>
        <ul>
            <li><span class="check-yes">âœ…</span> <strong>ALL data models</strong> (ir.model records)</li>
            <li><span class="check-yes">âœ…</span> <strong>User data</strong> (workflows, projects, conversations)</li>
            <li><span class="check-yes">âœ…</span> <strong>Audit trails</strong> (executions, token usage)</li>
            <li><span class="check-yes">âœ…</span> <strong>Sensitive data</strong> (API credentials, user profiles)</li>
            <li><span class="check-yes">âœ…</span> <strong>Configuration data</strong> (settings, templates)</li>
        </ul>

        <p><strong>Does NOT contain:</strong></p>
        <ul>
            <li><span class="check-no">âŒ</span> Views (no XML files)</li>
            <li><span class="check-no">âŒ</span> Controllers (no HTTP endpoints)</li>
            <li><span class="check-no">âŒ</span> Frontend code (no JS/CSS)</li>
        </ul>

        <div class="code-block">
            <strong>Example Models:</strong>
            <pre># ai_brain/models/__init__.py

# Core SAM AI models
from . import ai_service_config
from . import ai_conversation
from . import ai_message
from . import sam_user_profile

# Workflow data (used by ai_sam_workflows skin)
from . import canvas              # Workflow definitions
from . import executions          # Execution history
from . import nodes               # Node instances
from . import connections         # Node connections
from . import api_credentials     # API keys

# Memory data (used by ai_sam_memory skin)
from . import ai_memory_config
from . import ai_conversation_import

# Creatives data (used by ai_sam_creatives skin)
from . import creatives_project
from . import creatives_asset</pre>
        </div>

        <div class="workflow-box">
            <strong>Uninstall Safety:</strong>
            <ul>
                <li><span class="check-no">âŒ</span> Cannot uninstall ai_brain (base dependency)</li>
                <li><span class="check-yes">âœ…</span> Data protected forever</li>
            </ul>
        </div>

        <hr>

        <h3><strong>ai_sam (Framework Layer)</strong></h3>

        <div class="key-principle">
            <strong>Principle:</strong> Universal infrastructure that ALL platforms need.
        </div>

        <p><strong>Contains:</strong></p>
        <ul>
            <li><span class="check-yes">âœ…</span> <strong>Canvas Skeleton Core</strong> (universal canvas engine)</li>
            <li><span class="check-yes">âœ…</span> <strong>Platform Loader</strong> (dynamic skin injection)</li>
            <li><span class="check-yes">âœ…</span> <strong>Universal Services</strong> (Claude API, context builder)</li>
            <li><span class="check-yes">âœ…</span> <strong>Universal Controllers</strong> (query engines, chat API)</li>
            <li><span class="check-yes">âœ…</span> <strong>Site-wide UI</strong> (chat widget, token counter)</li>
        </ul>

        <p><strong>Does NOT contain:</strong></p>
        <ul>
            <li><span class="check-no">âŒ</span> Data models (belongs in ai_brain)</li>
            <li><span class="check-no">âŒ</span> Platform-specific UI (belongs in skins)</li>
        </ul>

        <div class="file-tree">
            <strong>Structure:</strong><br><br>
ai_sam/<br>
â”œâ”€â”€ models/                     â† âŒ SHOULD BE EMPTY (no data models)<br>
â”œâ”€â”€ controllers/                â† âœ… Universal controllers<br>
â”‚   â”œâ”€â”€ canvas_controller.py        (canvas API - query engine)<br>
â”‚   â”œâ”€â”€ sam_ai_chat_controller.py   (chat endpoints)<br>
â”‚   â”œâ”€â”€ sam_session_controller.py   (session management)<br>
â”‚   â””â”€â”€ [future query controllers]<br>
â”œâ”€â”€ static/src/<br>
â”‚   â”œâ”€â”€ core/                   â† âœ… Canvas skeleton core<br>
â”‚   â”‚   â”œâ”€â”€ canvas_sizer.js<br>
â”‚   â”‚   â”œâ”€â”€ canvas_engine.js<br>
â”‚   â”‚   â”œâ”€â”€ node_manager.js<br>
â”‚   â”‚   â””â”€â”€ platform_loader.js<br>
â”‚   â”œâ”€â”€ js/                     â† âœ… Universal UI components<br>
â”‚   â”‚   â”œâ”€â”€ sam_ai_chat_widget.js<br>
â”‚   â”‚   â””â”€â”€ sam_ai_token_counter.js<br>
â”‚   â””â”€â”€ css/                    â† âœ… Universal styles<br>
â””â”€â”€ views/                      â† âœ… Universal views (menu structure, canvas container)
        </div>

        <h3><strong>Controllers in ai_sam (Query Engines):</strong></h3>

        <p>Controllers in ai_sam are <strong>universal query engines</strong> that work across all platforms:</p>

        <div class="code-block">
            <pre># ai_sam/controllers/canvas_controller.py
class CanvasController(http.Controller):
    """
    Universal canvas API - works for ALL platforms
    Queries ai_brain models, returns data to any skin
    """

    @http.route('/sam/canvas/list', type='json', auth='user')
    def list_canvases(self, platform=None):
        # Query ai_brain.canvas model
        # Can filter by platform (workflows, memory, creatives)
        Canvas = request.env['canvas']
        return Canvas.search_read([...])

    @http.route('/sam/canvas/save', type='json', auth='user')
    def save_canvas(self, canvas_id, data):
        # Save to ai_brain.canvas model
        # Works regardless of which skin is using it
        Canvas = request.env['canvas']
        canvas = Canvas.browse(canvas_id)
        canvas.write(data)
        return {'success': True}</pre>
        </div>

        <div class="key-principle">
            <strong>Key Insight (Hybrid Approach - Option C):</strong><br>
            <strong>If 2+ platforms will use it â†’ ai_sam (universal controller)</strong><br>
            <strong>If only 1 platform uses it â†’ That platform's controller (direct to ai_brain)</strong><br><br>
            This avoids unnecessary abstraction while preventing code duplication. Platform controllers CAN access ai_brain directly when needed.
        </div>

        <hr>

        <h3><strong>Platform Skins (UI Layer)</strong></h3>

        <div class="key-principle">
            <strong>Principle:</strong> UI-only modules that provide specialized experiences for specific use cases.
        </div>

        <p><strong>Contains:</strong></p>
        <ul>
            <li><span class="check-yes">âœ…</span> <strong>Views (XML)</strong> - Platform-specific forms, kanban, tree views</li>
            <li><span class="check-yes">âœ…</span> <strong>JavaScript Renderers</strong> - Platform-specific canvas rendering</li>
            <li><span class="check-yes">âœ…</span> <strong>CSS Styles</strong> - Platform-specific styling</li>
            <li><span class="check-yes">âœ…</span> <strong>Platform-Specific Controllers</strong> (optional, only if needed for UI logic)</li>
            <li><span class="check-yes">âœ…</span> <strong>Seed Data (XML)</strong> - Platform registration, demo data (reinstallable)</li>
        </ul>

        <p><strong>Does NOT contain:</strong></p>
        <ul>
            <li><span class="check-no">âŒ</span> Data models (belongs in ai_brain)</li>
            <li><span class="check-no">âŒ</span> Universal controllers (belongs in ai_sam)</li>
        </ul>

        <div class="file-tree">
            <strong>Structure:</strong><br><br>
ai_sam_workflows/              â† Platform Skin (example)<br>
â”œâ”€â”€ models/                    â† âŒ SHOULD BE EMPTY or minimal extensions<br>
â”œâ”€â”€ controllers/               â† âœ… Platform-specific controllers (if needed)<br>
â”‚   â””â”€â”€ workflow_import_controller.py  (workflow-specific UI logic)<br>
â”œâ”€â”€ views/                     â† âœ… Platform-specific views<br>
â”‚   â”œâ”€â”€ workflow_definition_views.xml<br>
â”‚   â”œâ”€â”€ workflow_execution_views.xml<br>
â”‚   â””â”€â”€ workflow_menus.xml<br>
â”œâ”€â”€ static/src/<br>
â”‚   â””â”€â”€ workflows/             â† âœ… Platform-specific renderer<br>
â”‚       â”œâ”€â”€ workflow_renderer.js   (N8N-style node rendering)<br>
â”‚       â”œâ”€â”€ workflow_toolbar.js    (workflow-specific tools)<br>
â”‚       â””â”€â”€ workflow_styles.css<br>
â”œâ”€â”€ data/                      â† âœ… Seed data (reinstallable)<br>
â”‚   â”œâ”€â”€ workflow_platform.xml      (platform registration)<br>
â”‚   â””â”€â”€ workflow_templates.xml     (demo templates)<br>
â””â”€â”€ security/                  â† âœ… UI-specific security rules<br>
    â””â”€â”€ ir.model.access.csv        (view access only)
        </div>

        <h3><strong>Platform-Specific Controllers:</strong></h3>

        <p><strong>Question:</strong> Do platform skins have their own controllers?<br>
        <strong>Answer:</strong> YES, but ONLY for platform-specific UI logic.</p>

        <div class="workflow-box">
            <strong>Rule:</strong>
            <ul>
                <li><span class="check-yes">âœ…</span> <strong>Universal query engines</strong> â†’ ai_sam (work across all platforms)</li>
                <li><span class="check-yes">âœ…</span> <strong>Platform-specific UI logic</strong> â†’ Platform skin (only needed for that skin)</li>
            </ul>
        </div>

        <div class="code-block">
            <strong>Example:</strong>
            <pre># ai_sam_workflows/controllers/workflow_import_controller.py
class WorkflowImportController(http.Controller):
    """
    Workflow-specific controller for N8N JSON import
    This is UI logic specific to the workflows skin
    """

    @http.route('/workflows/import/n8n', type='http', auth='user')
    def import_n8n_json(self, file):
        # Parse N8N JSON (specific to workflows platform)
        # Create canvas, nodes, connections in ai_brain
        # Return workflow ID
        pass

    @http.route('/workflows/export/n8n', type='http', auth='user')
    def export_n8n_json(self, workflow_id):
        # Read from ai_brain.canvas
        # Convert to N8N JSON format (specific to workflows platform)
        # Return JSON file
        pass</pre>
        </div>

        <div class="key-principle">
            <strong>Key Principle (Hybrid Approach):</strong><br>
            <strong>Universal operations (used by 2+ platforms)</strong> â†’ ai_sam controller<br>
            <strong>Platform-specific operations (used by 1 platform)</strong> â†’ Platform skin controller (direct to ai_brain)<br><br>
            <strong>Benefits:</strong>
            <ul style="margin-top: 10px;">
                <li><span class="check-yes">âœ…</span> No unnecessary abstraction layers</li>
                <li><span class="check-yes">âœ…</span> No code duplication (DRY principle)</li>
                <li><span class="check-yes">âœ…</span> Platform controllers can access ai_brain directly</li>
                <li><span class="check-yes">âœ…</span> Shared logic centralized where it adds value</li>
            </ul>
        </div>

        <hr>

        <h2><span class="emoji">ğŸ¯</span> Benefits of Platform Skin Architecture</h2>

        <div class="benefits-grid">
            <div class="benefit-card">
                <h3>1. Data Safety:</h3>
                <ul>
                    <li><span class="check-yes">âœ…</span> Uninstall any platform skin â†’ Data remains safe in ai_brain</li>
                    <li><span class="check-yes">âœ…</span> Reinstall platform skin â†’ Data is still there</li>
                    <li><span class="check-yes">âœ…</span> Compliance-friendly (audit trails protected)</li>
                </ul>
            </div>

            <div class="benefit-card">
                <h3>2. Debug Isolation:</h3>
                <ul>
                    <li><span class="check-yes">âœ…</span> "Debug UI issues 1 platform at a time"</li>
                    <li><span class="check-yes">âœ…</span> Workflows broken? Uninstall ai_sam_workflows, debug, reinstall</li>
                    <li><span class="check-yes">âœ…</span> Other platforms unaffected</li>
                    <li><span class="check-yes">âœ…</span> Data untouched</li>
                </ul>
            </div>

            <div class="benefit-card">
                <h3>3. Flexible Frontend Development:</h3>
                <ul>
                    <li><span class="check-yes">âœ…</span> Build web forms that query ai_brain directly (no ai_sam needed)</li>
                    <li><span class="check-yes">âœ…</span> Build mobile app that hits ai_sam controllers</li>
                    <li><span class="check-yes">âœ…</span> Build external dashboard that visualizes ai_brain data</li>
                    <li><span class="check-yes">âœ…</span> Replace entire platform skin without losing data</li>
                </ul>
            </div>

            <div class="benefit-card">
                <h3>4. Clean Separation:</h3>
                <ul>
                    <li><span class="check-yes">âœ…</span> Frontend developers work on skins (no database risk)</li>
                    <li><span class="check-yes">âœ…</span> Backend developers work on ai_brain (no UI complexity)</li>
                    <li><span class="check-yes">âœ…</span> Framework developers work on ai_sam (universal infrastructure)</li>
                </ul>
            </div>
        </div>

        <hr>

        <h2><span class="emoji">ğŸ“Š</span> Module Dependencies</h2>

        <div class="dependency-diagram">
<pre>ai_sam_workflows  â”€â”
ai_sam_memory     â”€â”¤
ai_sam_creatives  â”€â”¼â”€â”€â†’  ai_sam  â”€â”€â†’  ai_brain  â”€â”€â†’  base (Odoo core)
[future skins]    â”€â”˜

Dependency Direction:
Skins depend on ai_sam
ai_sam depends on ai_brain
ai_brain depends on base

Data Flow:
Skins (UI) â†’ ai_sam (controllers/query engines) â†’ ai_brain (data)</pre>
        </div>

        <p><strong>Installation Order:</strong></p>
        <ol>
            <li><code>base</code> (Odoo core)</li>
            <li><code>ai_brain</code> (data layer)</li>
            <li><code>ai_sam</code> (framework)</li>
            <li>Platform skins (optional, any order)</li>
        </ol>

        <p><strong>Uninstallation:</strong></p>
        <ul>
            <li><span class="check-yes">âœ…</span> Can uninstall any skin (data safe)</li>
            <li><span class="check-yes">âœ…</span> Can uninstall ai_sam (if no skins installed)</li>
            <li><span class="check-no">âŒ</span> Cannot uninstall ai_brain (base dependency, data layer)</li>
        </ul>

        <hr>

        <h2><span class="emoji">ğŸ”„</span> Uninstall Strategy</h2>

        <h3>Platform Skin Uninstall:</h3>

        <div class="code-block">
            <pre># ai_sam_workflows/models/workflow_uninstall_wizard.py
class WorkflowUninstallWizard(models.TransientModel):
    _name = 'workflow.uninstall.wizard'

    def check_data_exists(self):
        # Check if workflows exist in ai_brain
        Canvas = self.env['canvas']
        workflow_count = Canvas.search_count([('canvas_type', '=', 'workflow')])

        if workflow_count > 0:
            # Warn user
            return {
                'type': 'ir.actions.act_window',
                'name': 'Workflows Exist',
                'res_model': 'workflow.uninstall.wizard',
                'view_mode': 'form',
                'target': 'new',
            }

    def export_and_uninstall(self):
        # Export workflow data (CSV/JSON)
        # User downloads backup
        # Then allow uninstall
        # Data remains in ai_brain (still accessible if reinstalled)
        pass</pre>
        </div>

        <div class="workflow-box">
            <strong>Workflow:</strong>
            <ol>
                <li>User clicks "Uninstall ai_sam_workflows"</li>
                <li>Wizard checks ai_brain for workflow data</li>
                <li>If data exists â†’ Offer export option</li>
                <li>User downloads backup (optional)</li>
                <li>Uninstall proceeds</li>
                <li><strong>Data remains in ai_brain</strong> (not deleted)</li>
                <li>If user reinstalls â†’ Data is still there!</li>
            </ol>
        </div>

        <hr>

        <h2><span class="emoji">ğŸš€</span> Future: Query Engines and Web Forms</h2>

        <div class="key-principle">
            Your vision:<br>
            "Now I could start to build our next step around ai_brain and initiate a simple web form and various query engines"
        </div>

        <h3>Architecture Enables This:</h3>

        <div class="architecture-diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MULTIPLE FRONTENDS (all query same data)       â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Platform     â”‚  â”‚ Web Forms    â”‚  â”‚ Mobile â”‚ â”‚
â”‚  â”‚ Skins        â”‚  â”‚ (Simple UI)  â”‚  â”‚ App    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚            â”‚            â”‚
              â†“            â†“            â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ai_sam (Query Engines/Controllers)     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ canvas_controller.py              â”‚  â”‚
    â”‚  â”‚ query_controller.py               â”‚  â”‚
    â”‚  â”‚ workflow_query_controller.py      â”‚  â”‚
    â”‚  â”‚ conversation_query_controller.py  â”‚  â”‚
    â”‚  â”‚ [future controllers]              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  ai_brain (Data)   â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  â”‚ ALL MODELS   â”‚  â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

        <h3>Example: Simple Web Form (No Platform Skin Needed)</h3>

        <div class="code-block">
            <pre>&lt;!-- simple_web_module/views/simple_form.xml --&gt;
&lt;form string="Query Workflows"&gt;
    &lt;field name="date_from"/&gt;
    &lt;field name="date_to"/&gt;
    &lt;button name="query_workflows" string="Search" type="object"/&gt;
&lt;/form&gt;</pre>
        </div>

        <div class="code-block">
            <pre># simple_web_module/models/simple_query.py
class SimpleQuery(models.TransientModel):
    _name = 'simple.query'

    date_from = fields.Date()
    date_to = fields.Date()

    def query_workflows(self):
        # Query ai_brain directly!
        Canvas = self.env['canvas']
        workflows = Canvas.search([
            ('create_date', '>=', self.date_from),
            ('create_date', '<=', self.date_to),
        ])

        # Return data (no complex UI needed)
        return {
            'type': 'ir.actions.act_window',
            'name': 'Results',
            'res_model': 'canvas',
            'view_mode': 'tree,form',
            'domain': [('id', 'in', workflows.ids)],
        }</pre>
        </div>

        <div class="key-principle">
            <strong>Key Point:</strong><br>
            Because ALL data is in ai_brain, you can query it from ANYWHERE (platform skins, web forms, mobile apps, external APIs)
        </div>

        <hr>

        <h2><span class="emoji">ğŸ“</span> Summary</h2>

        <div class="golden-rules">
            <h3>Golden Rules:</h3>

            <ol>
                <li>
                    <strong>Data Layer (ai_brain):</strong>
                    <ul>
                        <li>ALL data models</li>
                        <li>No views, no controllers</li>
                        <li>Protected, persistent, queryable</li>
                    </ul>
                </li>

                <li>
                    <strong>Framework Layer (ai_sam):</strong>
                    <ul>
                        <li>Canvas skeleton core</li>
                        <li>Universal services</li>
                        <li>Universal controllers (query engines)</li>
                        <li>No data models</li>
                    </ul>
                </li>

                <li>
                    <strong>UI Layer (Platform Skins):</strong>
                    <ul>
                        <li>Views (XML)</li>
                        <li>Renderers (JS/CSS)</li>
                        <li>Platform-specific controllers (UI logic only)</li>
                        <li>No data models</li>
                    </ul>
                </li>

                <li>
                    <strong>Controllers (Hybrid Approach - Option C):</strong>
                    <ul>
                        <li>Universal operations (2+ platforms) â†’ ai_sam</li>
                        <li>Platform-specific operations (1 platform) â†’ Platform skin (direct to ai_brain)</li>
                        <li>Optimize for simplicity, not abstraction</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="test-box">
            <strong>Test:</strong><br>
            If losing it would make a customer angry â†’ ai_brain<br>
            If it's UI-specific and safe to remove â†’ Platform skin<br>
            If it's universal infrastructure â†’ ai_sam
        </div>

        <hr>

        <h2><span class="emoji">ğŸ“–</span> Lessons Learned: Workflows Platform Correction (2025-10-12)</h2>

        <h3><strong>The Mistake:</strong></h3>
        <p>During Phase 3 extraction (2025-10-11), we initially moved workflow data models to ai_sam_workflows.</p>

        <div class="workflow-box">
            <strong>What happened:</strong>
            <ul>
                <li>Moved 20 data models from ai_brain to ai_sam_workflows</li>
                <li>Treated ai_sam_workflows as standalone module instead of Platform Skin</li>
                <li>Followed incorrect pattern from initial extraction</li>
            </ul>
        </div>

        <div class="workflow-box" style="background: #ffebee; border-color: #e74c3c;">
            <strong>Impact:</strong>
            <ul>
                <li><span class="check-no">âŒ</span> Uninstalling ai_sam_workflows would delete user workflow data</li>
                <li><span class="check-no">âŒ</span> Violated data safety principles</li>
                <li><span class="check-no">âŒ</span> Broke compliance/audit trail requirements (HIPAA, GDPR, SOX)</li>
                <li><span class="check-no">âŒ</span> Contradicted original ai_brain design intent (pure data layer)</li>
                <li><span class="check-no">âŒ</span> Broke "debug UI issues 1 platform at a time" strategy</li>
                <li><span class="check-no">âŒ</span> Created data loss risk on module uninstall</li>
            </ul>
        </div>

        <h3><strong>The Fix:</strong></h3>
        <p>Moved all 20 workflow data models back to ai_brain (2025-10-12).</p>

        <div class="workflow-box">
            <strong>Actions Taken:</strong>
            <ol>
                <li>Archived current state (safety first)</li>
                <li>Moved all 20 model files back to ai_brain/models/</li>
                <li>Updated ai_brain/models/__init__.py with imports</li>
                <li>Cleared ai_sam_workflows/models/__init__.py (UI-only)</li>
                <li>Updated security rules (already in ai_brain)</li>
                <li>Updated both module manifests with Platform Skin documentation</li>
                <li>Created comprehensive correction summary</li>
            </ol>
        </div>

        <div class="benefit-card" style="background: #e8f5e9;">
            <strong>Result:</strong>
            <ul style="margin-top: 10px;">
                <li><span class="check-yes">âœ…</span> Data survives module uninstalls</li>
                <li><span class="check-yes">âœ…</span> Audit trails protected</li>
                <li><span class="check-yes">âœ…</span> Platform Skin Model correctly implemented</li>
                <li><span class="check-yes">âœ…</span> "Debug UI issues 1 platform at a time" strategy enabled</li>
                <li><span class="check-yes">âœ…</span> Compliance requirements met</li>
                <li><span class="check-yes">âœ…</span> Uninstall wizard strategy now viable</li>
            </ul>
        </div>

        <h3><strong>Key Insights:</strong></h3>

        <div class="golden-rules" style="background: #fff3cd; border-color: #ffc107;">
            <h3 style="color: #ff6f00;">The Golden Rule:</h3>
            <p style="font-size: 1.2em; font-weight: bold;">
                "If losing it would make a customer angry, it belongs in ai_brain" - This rule is non-negotiable.
            </p>
        </div>

        <div class="workflow-box">
            <strong>Data vs UI Test:</strong>
            <ul>
                <li>Would losing this on uninstall anger customers? â†’ ai_brain</li>
                <li>Is this just a UI preference? â†’ Platform skin</li>
                <li>Is this execution history or audit data? â†’ ai_brain (always!)</li>
            </ul>
        </div>

        <h3><strong>Real-World Scenario:</strong></h3>

        <div class="code-block" style="background: #ffebee;">
            <strong style="color: #e74c3c;">âŒ BAD:</strong>
            <pre style="color: #d32f2f;">User: "I want to uninstall the workflows UI to debug issues"
Developer: "Sure, uninstalling ai_sam_workflows..."
User: "Wait, what happened to all my workflows?!"
Developer: "Oh no... they're gone..." âŒ</pre>
        </div>

        <div class="code-block" style="background: #e8f5e9;">
            <strong style="color: #2e7d32;">âœ… CORRECT:</strong>
            <pre style="color: #1b5e20;">User: "I want to uninstall the workflows UI to debug issues"
Developer: "Sure, uninstalling ai_sam_workflows..."
User: "Great! When I reinstall, will my workflows still be there?"
Developer: "Absolutely! All data is safe in ai_brain" âœ…</pre>
        </div>

        <h3><strong>Compliance Perspective:</strong></h3>
        <ul>
            <li><strong>HIPAA:</strong> Audit trails must be immutable and persistent</li>
            <li><strong>GDPR:</strong> Data retention policies must be enforced</li>
            <li><strong>SOX:</strong> Financial transaction history cannot be deleted</li>
            <li><strong>Platform skins:</strong> UI preferences, not data stores</li>
        </ul>

        <h3><strong>Apply to Other Modules:</strong></h3>

        <table>
            <thead>
                <tr>
                    <th>Module</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ai_sam_memory</strong></td>
                    <td><span class="check-yes">âœ…</span> Already correct</td>
                    <td>Ensure only UI components in module</td>
                </tr>
                <tr>
                    <td><strong>ai_sam_creatives</strong></td>
                    <td><span class="check-yes">âœ…</span> Already correct</td>
                    <td>Ensure only UI components in module</td>
                </tr>
                <tr>
                    <td><strong>Future Platform Skins</strong></td>
                    <td>Follow this pattern</td>
                    <td>NEVER put data models in platform modules</td>
                </tr>
            </tbody>
        </table>

        <div class="golden-rules">
            <h3>Rules for Future Platform Skins:</h3>
            <ul>
                <li><span class="check-no">âŒ</span> <strong>NEVER</strong> put data models in platform modules</li>
                <li><span class="check-yes">âœ…</span> <strong>ALWAYS</strong> put data models in ai_brain</li>
                <li><span class="check-yes">âœ…</span> Platform skins = Views + JS/CSS + Platform-specific controllers only</li>
            </ul>
        </div>

        <hr>

        <div class="metadata">
            <p><strong>Status:</strong> <span class="status-badge">Architecture Defined & Validated</span></p>
            <p><strong>Correction:</strong> <span class="status-badge">Applied (2025-10-12)</span></p>
            <p><strong>Next:</strong> User testing of corrected architecture</p>
        </div>

    </div>
</body>
</html>